services:
    _defaults:
        public: true
        autowire: true
        autoconfigure: true

    Harmony\UserBundle\Security\UserProvider:
        arguments:
            $userClass: '%harmony_user.user_class%'
        public: false

    Harmony\UserBundle\Model\UserManager: ~

    Harmony\UserBundle\Controller\SecurityController: ~

    Harmony\UserBundle\Controller\PasswordController:
      arguments:
        $resetTokenTtl: '%harmony_user.password_reset.token_ttl%'

    Harmony\UserBundle\Event\UserEventSubscriber:
        tags:
            - { name: doctrine.event_subscriber, connection: default }

    Harmony\UserBundle\Security\UserChecker: ~

    Harmony\UserBundle\Mailer\TwigSwiftMailer:
        arguments:
            $mailer: '@mailer'
            $parameters: { email_from: '%harmony_user.password_reset.email_from%' }
